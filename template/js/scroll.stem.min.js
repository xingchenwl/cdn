(function(l){l.fn.navbarscroll=function(c){var i={className:"cur",clickScrollTime:300,duibiScreenWidth:.4,scrollerWidth:3,SelectName:".active",fingerClick:0,endClickScroll:function(l){}},e=l.extend(i,c);this.each(function(){function c(l){var c=l,i=e.duibiScreenWidth*o/10,r=c.index(),a=c.offset().left,f=c.position().left,k=c.width(),S=c.prev("li").width(),u=c.next("li").width(),T=o-a-k;d+2>t&&(1===e.fingerClick?1===r?m.scrollTo(-f+S,0,e.clickScrollTime):0===r?m.scrollTo(-f,0,e.clickScrollTime):r===h.length-2?m.scrollBy(T-s-k,0,e.clickScrollTime):r===h.length-1?m.scrollBy(T-s,0,e.clickScrollTime):a-n-k*e.fingerClick<i?m.scrollTo(-f+S+k*e.fingerClick,0,e.clickScrollTime):T-s-k*e.fingerClick<i&&m.scrollBy(T-u-s-k*e.fingerClick,0,e.clickScrollTime):1===r?m.scrollTo(-f+S,0,e.clickScrollTime):r===h.length-1?(T-s>1||T-s<-1)&&m.scrollBy(T-s,0,e.clickScrollTime):a-n<i?m.scrollTo(-f+S,0,e.clickScrollTime):T-s<i&&m.scrollBy(T-u-s,0,e.clickScrollTime)),c.addClass(e.className).siblings("li").removeClass(e.className),e.endClickScroll.call(this,c)}var i=l(this),r=l(window),o=r.width(),t=i.width(),n=i.offset().left,s=o-n-t,a=i.children(".scroller"),f=a.children("ul"),h=f.children("li"),d=0;h.css({"margin-left":"0","margin-right":"0"});for(var k=0;k<h.length;k++)d+=h[k].offsetWidth;a.width(d+e.scrollerWidth);var m=new IScroll("#"+i.attr("id"),{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1});c(l(e.SelectName)),h.click(function(){c(l(this))}),i[0].addEventListener("touchmove",function(l){l.preventDefault()},!1)})}})(jQuery);